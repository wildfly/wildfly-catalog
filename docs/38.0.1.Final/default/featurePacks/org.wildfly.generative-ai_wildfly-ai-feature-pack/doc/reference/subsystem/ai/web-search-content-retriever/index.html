<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Management API  Reference for web-search-content-retriever</title>
  <link rel="stylesheet" href="../../../../styles.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
  <script src="../../../../scripts.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</head>
<body>
<div class="container">
  <header class="card-header">
<div>
  <nav aria-label="Breadcrumb" class="breadcrumb">
    <ol>
      <li>
        <a href="../../../index.html">root</a>
      </li>
      <li>
        <a href="../../../subsystem/ai/index.html">subsystem=ai</a>
      </li>
      <li>web-search-content-retriever</li>
    </ol>
  </nav>
</div>    <h1>Management API Reference for web-search-content-retriever</h1>
    <p>Content retriever using web search results.</p>

  </header>
<h2>Provided Capabilities (1)</h2>

<table>
  <thead>
  <tr>
    <th>Name</th>
    <th>Dynamic</th>
    <th>Other provider points</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td><a href="https://github.com/wildfly/wildfly-capabilities/tree/main/org/wildfly/ai/rag/retriever/capability.adoc">org.wildfly.ai.rag.retriever</a></td>
    <td>true</td>
    <td>
      <a href="../../../subsystem/ai/embedding-store-content-retriever/index.html">/subsystem=ai/embedding-store-content-retriever=*</a> <br/>
      <a href="../../../subsystem/ai/neo4j-content-retriever/index.html">/subsystem=ai/neo4j-content-retriever=*</a> <br/>
    </td>
  </tr>
  </tbody>
</table>
<h2>Attributes (3)</h2>
<ul class="attributes">
  <li>
    <span class="toggle-link">
      <a id="google" href="#google" class="">
         google</a> - The custom Google web search engine configuration.
    </span>
    <div class="collapsible">


      <table>
        <tr>
          <td>Type</td>
          <td>OBJECT</td>
        </tr>
        <tr>
          <td>Is the attribute nillable?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Does the attribute allow expression?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Where is the attribute stored?</td>
          <td>configuration</td>
        </tr>
        <tr>
          <td>Access Type</td>
          <td>read-write</td>
        </tr>
        <tr>
          <td>Is restarted required?</td>
          <td>all-services</td>
        </tr>
        <tr>
          <td>Stability Level</td>
          <td>default</td>
        </tr>
        <tr>
          <td class="toggle-link">Raw DMR model</td>
          <td class="collapsible">
            <div class="code-block-container">
                            <pre><code class="language-json">
{
    "type" : {
        "TYPE_MODEL_VALUE" : "OBJECT"
    },
    "description" : "The custom Google web search engine configuration.",
    "expressions-allowed" : true,
    "required" : false,
    "nillable" : true,
    "alternatives" : ["tavily"],
    "stability" : "default",
    "access-constraints" : {"sensitive" : {"credential" : {"type" : "core"}}},
    "value-type" : {
        "api-key" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "STRING"
            },
            "description" : "The Google Search API key for accessing the Google Custom Search API.",
            "expressions-allowed" : true,
            "required" : true,
            "nillable" : false,
            "min-length" : 1,
            "max-length" : 2147483647,
            "stability" : "default"
        },
        "connect-timeout" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "LONG"
            },
            "description" : "Timeout for the custom Google search.",
            "expressions-allowed" : true,
            "required" : false,
            "nillable" : true,
            "default" : 60000,
            "unit" : "MILLISECONDS",
            "stability" : "default"
        },
        "custom-search-id" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "STRING"
            },
            "description" : "The Custom Search ID parameter for search the entire web",
            "expressions-allowed" : false,
            "required" : false,
            "nillable" : true,
            "min-length" : 1,
            "max-length" : 2147483647,
            "stability" : "default"
        },
        "include-images" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "BOOLEAN"
            },
            "description" : "If it is true then include public images relevant to the query. This can add more latency to the search.",
            "expressions-allowed" : false,
            "required" : false,
            "nillable" : true,
            "stability" : "default"
        },
        "log-requests" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "BOOLEAN"
            },
            "description" : "Whether to log API requests.",
            "expressions-allowed" : true,
            "required" : false,
            "nillable" : true,
            "stability" : "default"
        },
        "log-responses" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "BOOLEAN"
            },
            "description" : "Whether to log API responses.",
            "expressions-allowed" : true,
            "required" : false,
            "nillable" : true,
            "stability" : "default"
        },
        "max-retries" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "INT"
            },
            "description" : "The maximum number of retries for API requests.",
            "expressions-allowed" : true,
            "required" : false,
            "nillable" : true,
            "stability" : "default"
        },
        "site-restrict" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "BOOLEAN"
            },
            "description" : "If your Search Engine is restricted to only searching specific sites, you can set this parameter to true.",
            "expressions-allowed" : false,
            "required" : false,
            "nillable" : true,
            "stability" : "default"
        }
    },
    "access-type" : "read-write",
    "storage" : "configuration",
    "restart-required" : "all-services",
    "capability-reference" : null
}</code></pre>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </li>
  <li>
    <span class="toggle-link">
      <a id="max-results" href="#max-results" class="">
         max-results</a> - The maximum number of results.
    </span>
    <div class="collapsible">


      <table>
        <tr>
          <td>Type</td>
          <td>INT</td>
        </tr>
        <tr>
          <td>Is the attribute nillable?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Does the attribute allow expression?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Where is the attribute stored?</td>
          <td>configuration</td>
        </tr>
        <tr>
          <td>Access Type</td>
          <td>read-write</td>
        </tr>
        <tr>
          <td>Is restarted required?</td>
          <td>all-services</td>
        </tr>
        <tr>
          <td>Stability Level</td>
          <td>default</td>
        </tr>
        <tr>
          <td class="toggle-link">Raw DMR model</td>
          <td class="collapsible">
            <div class="code-block-container">
                            <pre><code class="language-json">
{
    "type" : {
        "TYPE_MODEL_VALUE" : "INT"
    },
    "description" : "The maximum number of results.",
    "expressions-allowed" : true,
    "required" : false,
    "nillable" : true,
    "stability" : "default",
    "access-type" : "read-write",
    "storage" : "configuration",
    "restart-required" : "all-services",
    "capability-reference" : null
}</code></pre>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </li>
  <li>
    <span class="toggle-link">
      <a id="tavily" href="#tavily" class="">
         tavily</a> - The Tavily Search engine configuration.
    </span>
    <div class="collapsible">


      <table>
        <tr>
          <td>Type</td>
          <td>OBJECT</td>
        </tr>
        <tr>
          <td>Is the attribute nillable?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Does the attribute allow expression?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Where is the attribute stored?</td>
          <td>configuration</td>
        </tr>
        <tr>
          <td>Access Type</td>
          <td>read-write</td>
        </tr>
        <tr>
          <td>Is restarted required?</td>
          <td>all-services</td>
        </tr>
        <tr>
          <td>Stability Level</td>
          <td>default</td>
        </tr>
        <tr>
          <td class="toggle-link">Raw DMR model</td>
          <td class="collapsible">
            <div class="code-block-container">
                            <pre><code class="language-json">
{
    "type" : {
        "TYPE_MODEL_VALUE" : "OBJECT"
    },
    "description" : "The Tavily Search engine configuration.",
    "expressions-allowed" : true,
    "required" : false,
    "nillable" : true,
    "alternatives" : ["google"],
    "stability" : "default",
    "access-constraints" : {"sensitive" : {
        "credential" : {"type" : "core"},
        "socket-config" : {"type" : "core"}
    }},
    "value-type" : {
        "api-key" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "STRING"
            },
            "description" : "Your Tavily API key.",
            "expressions-allowed" : true,
            "required" : true,
            "nillable" : false,
            "min-length" : 1,
            "max-length" : 2147483647,
            "stability" : "default"
        },
        "base-url" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "STRING"
            },
            "description" : "The base url to access Tavily API.",
            "expressions-allowed" : true,
            "required" : true,
            "nillable" : false,
            "min-length" : 1,
            "max-length" : 2147483647,
            "stability" : "default"
        },
        "connect-timeout" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "LONG"
            },
            "description" : "Timeout for the Tavily API to respond.",
            "expressions-allowed" : true,
            "required" : false,
            "nillable" : true,
            "default" : 0,
            "unit" : "MILLISECONDS",
            "stability" : "default"
        },
        "exclude-domains" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "LIST"
            },
            "description" : "A list of domains to specifically exclude from the search results.",
            "expressions-allowed" : true,
            "required" : false,
            "nillable" : true,
            "min-length" : 0,
            "max-length" : 2147483647,
            "stability" : "default",
            "value-type" : {
                "TYPE_MODEL_VALUE" : "STRING"
            }
        },
        "include-answer" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "BOOLEAN"
            },
            "description" : "Include answers in the search results.",
            "expressions-allowed" : false,
            "required" : false,
            "nillable" : true,
            "stability" : "default"
        },
        "include-domains" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "LIST"
            },
            "description" : "A list of domains to specifically include in the search results.",
            "expressions-allowed" : true,
            "required" : false,
            "nillable" : true,
            "min-length" : 0,
            "max-length" : 2147483647,
            "stability" : "default",
            "value-type" : {
                "TYPE_MODEL_VALUE" : "STRING"
            }
        },
        "include-raw-content" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "BOOLEAN"
            },
            "description" : "Include raw content in the search results.",
            "expressions-allowed" : false,
            "required" : false,
            "nillable" : true,
            "stability" : "default"
        },
        "search-depth" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "STRING"
            },
            "description" : "The depth of the search. It can be basic or advanced. Default is basic for quick results and advanced for indepth high quality results but longer response time. Advanced calls equals 2 requests.",
            "expressions-allowed" : false,
            "required" : false,
            "nillable" : true,
            "min-length" : 1,
            "max-length" : 2147483647,
            "allowed" : [
                "basic",
                "advanced"
            ],
            "stability" : "default"
        }
    },
    "access-type" : "read-write",
    "storage" : "configuration",
    "restart-required" : "all-services",
    "capability-reference" : null
}</code></pre>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </li>
</ul>
<h2>Operations (2)</h2>
<ul class="operations">
  <li>
    <span class="toggle-link">
      <a id="add" href="#add" class="">
      add</a> - This operation adds the AI subsystem
    </span>
    <div class="collapsible">


      <table>
        <thead>
        <tr>
          <th>Request Parameter</th>
          <th>Type</th>
          <th>Required</th>
          <th>Expressions Allowed</th>
          <th>Default value</th>
          <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>google</td>
          <td>OBJECT</td>
          <td>false</td>
          <td>true</td>
          <td></td>
          <td>The custom Google web search engine configuration.</td>
        </tr>
        <tr>
          <td>max-results</td>
          <td>INT</td>
          <td>false</td>
          <td>true</td>
          <td></td>
          <td>The maximum number of results.</td>
        </tr>
        <tr>
          <td>tavily</td>
          <td>OBJECT</td>
          <td>false</td>
          <td>true</td>
          <td></td>
          <td>The Tavily Search engine configuration.</td>
        </tr>
        </tbody>
      </table>


      <table>
        <tr>
          <td class="toggle-link">Raw DMR model</td>
          <td class="collapsible">
            <div class="code-block-container">
              <pre><code class="language-json">
{
    "operation-name" : "add",
    "description" : "This operation adds the AI subsystem",
    "request-properties" : {
        "google" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "OBJECT"
            },
            "description" : "The custom Google web search engine configuration.",
            "expressions-allowed" : true,
            "required" : false,
            "nillable" : true,
            "alternatives" : ["tavily"],
            "stability" : "default",
            "value-type" : {
                "api-key" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "STRING"
                    },
                    "description" : "The Google Search API key for accessing the Google Custom Search API.",
                    "expressions-allowed" : true,
                    "required" : true,
                    "nillable" : false,
                    "min-length" : 1,
                    "max-length" : 2147483647,
                    "stability" : "default"
                },
                "connect-timeout" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "LONG"
                    },
                    "description" : "Timeout for the custom Google search.",
                    "expressions-allowed" : true,
                    "required" : false,
                    "nillable" : true,
                    "default" : 60000,
                    "unit" : "MILLISECONDS",
                    "stability" : "default"
                },
                "custom-search-id" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "STRING"
                    },
                    "description" : "The Custom Search ID parameter for search the entire web",
                    "expressions-allowed" : false,
                    "required" : false,
                    "nillable" : true,
                    "min-length" : 1,
                    "max-length" : 2147483647,
                    "stability" : "default"
                },
                "include-images" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "BOOLEAN"
                    },
                    "description" : "If it is true then include public images relevant to the query. This can add more latency to the search.",
                    "expressions-allowed" : false,
                    "required" : false,
                    "nillable" : true,
                    "stability" : "default"
                },
                "log-requests" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "BOOLEAN"
                    },
                    "description" : "Whether to log API requests.",
                    "expressions-allowed" : true,
                    "required" : false,
                    "nillable" : true,
                    "stability" : "default"
                },
                "log-responses" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "BOOLEAN"
                    },
                    "description" : "Whether to log API responses.",
                    "expressions-allowed" : true,
                    "required" : false,
                    "nillable" : true,
                    "stability" : "default"
                },
                "max-retries" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "INT"
                    },
                    "description" : "The maximum number of retries for API requests.",
                    "expressions-allowed" : true,
                    "required" : false,
                    "nillable" : true,
                    "stability" : "default"
                },
                "site-restrict" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "BOOLEAN"
                    },
                    "description" : "If your Search Engine is restricted to only searching specific sites, you can set this parameter to true.",
                    "expressions-allowed" : false,
                    "required" : false,
                    "nillable" : true,
                    "stability" : "default"
                }
            }
        },
        "max-results" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "INT"
            },
            "description" : "The maximum number of results.",
            "expressions-allowed" : true,
            "required" : false,
            "nillable" : true,
            "stability" : "default"
        },
        "tavily" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "OBJECT"
            },
            "description" : "The Tavily Search engine configuration.",
            "expressions-allowed" : true,
            "required" : false,
            "nillable" : true,
            "alternatives" : ["google"],
            "stability" : "default",
            "value-type" : {
                "api-key" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "STRING"
                    },
                    "description" : "Your Tavily API key.",
                    "expressions-allowed" : true,
                    "required" : true,
                    "nillable" : false,
                    "min-length" : 1,
                    "max-length" : 2147483647,
                    "stability" : "default"
                },
                "base-url" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "STRING"
                    },
                    "description" : "The base url to access Tavily API.",
                    "expressions-allowed" : true,
                    "required" : true,
                    "nillable" : false,
                    "min-length" : 1,
                    "max-length" : 2147483647,
                    "stability" : "default"
                },
                "connect-timeout" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "LONG"
                    },
                    "description" : "Timeout for the Tavily API to respond.",
                    "expressions-allowed" : true,
                    "required" : false,
                    "nillable" : true,
                    "default" : 0,
                    "unit" : "MILLISECONDS",
                    "stability" : "default"
                },
                "exclude-domains" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "LIST"
                    },
                    "description" : "A list of domains to specifically exclude from the search results.",
                    "expressions-allowed" : true,
                    "required" : false,
                    "nillable" : true,
                    "min-length" : 0,
                    "max-length" : 2147483647,
                    "stability" : "default",
                    "value-type" : {
                        "TYPE_MODEL_VALUE" : "STRING"
                    }
                },
                "include-answer" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "BOOLEAN"
                    },
                    "description" : "Include answers in the search results.",
                    "expressions-allowed" : false,
                    "required" : false,
                    "nillable" : true,
                    "stability" : "default"
                },
                "include-domains" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "LIST"
                    },
                    "description" : "A list of domains to specifically include in the search results.",
                    "expressions-allowed" : true,
                    "required" : false,
                    "nillable" : true,
                    "min-length" : 0,
                    "max-length" : 2147483647,
                    "stability" : "default",
                    "value-type" : {
                        "TYPE_MODEL_VALUE" : "STRING"
                    }
                },
                "include-raw-content" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "BOOLEAN"
                    },
                    "description" : "Include raw content in the search results.",
                    "expressions-allowed" : false,
                    "required" : false,
                    "nillable" : true,
                    "stability" : "default"
                },
                "search-depth" : {
                    "type" : {
                        "TYPE_MODEL_VALUE" : "STRING"
                    },
                    "description" : "The depth of the search. It can be basic or advanced. Default is basic for quick results and advanced for indepth high quality results but longer response time. Advanced calls equals 2 requests.",
                    "expressions-allowed" : false,
                    "required" : false,
                    "nillable" : true,
                    "min-length" : 1,
                    "max-length" : 2147483647,
                    "allowed" : [
                        "basic",
                        "advanced"
                    ],
                    "stability" : "default"
                }
            }
        }
    },
    "reply-properties" : {},
    "stability" : "default",
    "read-only" : false,
    "runtime-only" : false
}</code></pre>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </li>
  <li>
    <span class="toggle-link">
      <a id="remove" href="#remove" class="">
      remove</a> - This operation removes the AI subsystem
    </span>
    <div class="collapsible">




      <table>
        <tr>
          <td class="toggle-link">Raw DMR model</td>
          <td class="collapsible">
            <div class="code-block-container">
              <pre><code class="language-json">
{
    "operation-name" : "remove",
    "description" : "This operation removes the AI subsystem",
    "request-properties" : {},
    "reply-properties" : {},
    "stability" : "default",
    "read-only" : false,
    "restart-required" : "resource-services",
    "runtime-only" : false
}</code></pre>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </li>
</ul>
<h2>Galleon Features</h2>
<p>Galleon features are to be used when creating Galleon feature-packs.</p>
<ul class="attributes">
  <li>
  <span class="toggle-link">subsystem.ai.web-search-content-retriever</span>
  <div class="collapsible">
    <div class="code-block-container">
      <pre>
        <code id="feature" class="language-xml">
&lt;feature spec="subsystem.ai.web-search-content-retriever"&gt;
  &lt;param name="web-search-content-retriever" value="{resource name}"/&gt;
  &lt;param name="google" value="{value}"/&gt;
  &lt;param name="max-results" value="{value}"/&gt;
  &lt;param name="tavily" value="{value}"/&gt;
&lt;feature/&gt;
        </code>
      </pre>
      <button class="copy-btn" onclick="copyToClipboard('feature')" title="Copy to clipboard">ðŸ“‹</button>
    </div>
  </div>
  </li>
</ul>
</div>
</body>
</html>